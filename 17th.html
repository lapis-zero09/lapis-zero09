<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="題未定, ">


        <title>debianにVirtual Boxをインストール // 題未定 // </title>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="theme/css/pure.css">
    <link rel="stylesheet" href="https://www.lapis-zero09.xyz/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-74593186-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
    <div class="pure-g-r" id="layout">
        <div class="sidebar pure-u">
            <div class="cover-img" style="background: none repeat scroll 0% 0% #3D4F5D">
                <div class="cover-body">
                    <header class="header">
                        <hgroup>
                            <a href="https://www.lapis-zero09.xyz/about/about.html"><img class="avatar" src="./img/profile.jpg"></a>
                            <h1 class="brand-main"><a href="https://www.lapis-zero09.xyz">題未定</a></h1>
                            <p class="tagline"></p>
                                <p class="social">
                                    <a href="https://github.com/lapis-zero09">
                                        <i class="fa fa-github fa-3x"></i>
                                    </a>
                                    <a href="http://lapis-zero09.hatenablog.com/">
                                        <i class="fa fa-rss-square fa-3x"></i>
                                    </a>
                                    <a href="http://amzn.asia/8plng3k">
                                        <i class="fa fa-gift fa-3x"></i>
                                    </a>
                                    <a href="http://qiita.com/lapis_zero09">
                                        <i class="fa fa-search fa-3x"></i>
                                    </a>
                                </p>
                        </hgroup>
                    </header>
                </div>
            </div>
        </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>debianにVirtual Boxをインストール</h1>
                        <p class="post-meta">
                            // under                                 <a class="post-category" href="https://www.lapis-zero09.xyz/tag/security.html">security</a>
                                <a class="post-category" href="https://www.lapis-zero09.xyz/tag/kali_linuxi.html">kali_linuxi</a>
                                <a class="post-category" href="https://www.lapis-zero09.xyz/tag/debian.html">debian</a>
                                <a class="post-category" href="https://www.lapis-zero09.xyz/tag/virtualbox.html">virtualbox</a>
                                <a class="post-category" href="https://www.lapis-zero09.xyz/tag/apt.html">apt</a>
                                <a class="post-category" href="https://www.lapis-zero09.xyz/tag/dpkg.html">dpkg</a>
                        </p>
                </header>
            </section>
            <h1>kali linux rolling</h1>
<p><a href="https://www.virtualbox.org/wiki/Downloads">公式</a>からdebパッケージをダウンロードしてきてインストール  </p>
<div class="highlight"><pre><span></span>dpkg -i {virtualbox...}.deb
</pre></div>


<p>エラー吐いたら  </p>
<div class="highlight"><pre><span></span># sudo apt-get install -f
</pre></div>


<p>-&gt;依存環境が解決されずインストールできない  </p>
<p>-&gt;aptでインストールしてみる  </p>
<p><a href="https://www.virtualbox.org/wiki/Linux_Downloads">https://www.virtualbox.org/wiki/Linux_Downloads</a>
ここを参照して</p>
<div class="highlight"><pre><span></span># vim /etc/apt/source.list
</pre></div>


<p>以下を追加</p>
<div class="highlight"><pre><span></span><span class="k">deb</span> <span class="s">http://download.virtualbox.org/virtualbox/debian</span> <span class="kp">xenial</span> <span class="kp">contrib</span>
</pre></div>


<p>環境によって'xenial' を'vivid', 'utopic', 'trusty', 'raring', 'quantal', 'precise', 'lucid', 'jessie', 'wheezy', 'squeeze'で入れ替える</p>
<p>source.listに追加した に対してのkeyを追加する  </p>
<div class="highlight"><pre><span></span># wget -q https://www.virtualbox.org/download/oracle_vbox_2016.asc -O- | sudo apt-key add -
# wget -q https://www.virtualbox.org/download/oracle_vbox.asc -O- | sudo apt-key add -
</pre></div>


<p>fingerprintがちゃんと合ってるかapt-key fingerprintで確認  </p>
<p>ちなみに2016/05/20時点で正しいのは以下  </p>
<div class="highlight"><pre><span></span>The key fingerprint for oracle_vbox_2016.asc is
B9F8 D658 297A F3EF C18D  5CDF A2F6 83C5 2980 AECF
Oracle Corporation (VirtualBox archive signing key) &lt;info@virtualbox.org&gt;
The key fingerprint for oracle_vbox.asc is
7B0F AB3A 13B9 0743 5925  D9C9 5442 2A4B 98AB 5139
Oracle Corporation (VirtualBox archive signing key) &lt;info@virtualbox.org&gt;
</pre></div>


<p>そして以下を実行  </p>
<div class="highlight"><pre><span></span>#apt-get update

# apt-get -y install virtualbox-5.0
パッケージリストを読み込んでいます... 完了
依存関係ツリーを作成しています
状態情報を読み取っています... 完了
インストールすることができないパッケージがありました。おそらく、あり得
ない状況を要求したか、(不安定版ディストリビューションを使用しているの
であれば) 必要なパッケージがまだ作成されていなかったり Incoming から移
動されていないことが考えられます。
以下の情報がこの問題を解決するために役立つかもしれません:

以下のパッケージには満たせない依存関係があります:
 virtualbox-5.0 : 依存: libpng12-0 (&gt;= 1.2.13-4) しかし、インストールすることができません
                  依存: libssl1.0.0 (&gt;= 1.0.0) しかし、インストールすることができません
                  依存: libvpx1 (&gt;= 1.0.0) しかし、インストールすることができません
                  推奨: libsdl-ttf2.0-0 しかし、インストールされようとしていません
                  推奨: dkms しかし、インストールされようとしていません
                  推奨: linux-headers しかし、インストールすることができません
E: 問題を解決することができません。壊れた変更禁止パッケージがあります。
</pre></div>


<p>やっぱりダメ<br>
しかし，  </p>
<div class="highlight"><pre><span></span>#apt-get libpng12-0
</pre></div>


<p>とかやってもないと言われるので,<br>
手動でパッケージをインストールする.  </p>
<p>自分のアーキテクチャにあったdebファイルをダウンロードする(上のエラーで依存になっているもの)  </p>
<p>筆者はamd64なので以下の3つ  </p>
<ul>
<li>
<p>libpng12-0 - <a href="https://packages.debian.org/jessie/amd64/libpng12-0/download">https://packages.debian.org/jessie/amd64/libpng12-0/download</a></p>
</li>
<li>
<p>libvpx1 - <a href="https://packages.debian.org/jessie/amd64/libvpx1-dbg/download">https://packages.debian.org/jessie/amd64/libvpx1-dbg/download</a></p>
</li>
<li>
<p>libssl1.0 - <a href="https://packages.debian.org/jessie/amd64/libssl1.0.0/download">https://packages.debian.org/jessie/amd64/libssl1.0.0/download</a></p>
</li>
</ul>
<p>それぞれパッケージをダウンロードしたらmd5, sha1, sha256でチェックサム確認  </p>
<div class="highlight"><pre><span></span># md5sum lib*
2f392ddcfd7de95cd794b8c5433e272b  libpng12-0_1.2.50-2+deb8u2_amd64.deb
57c3d82c10706d711f21c03f34d8249c  libssl1.0.0_1.0.1e-2+deb7u21_amd64.deb
a31e1de3bf7d71b02763c7eb194a445f  libvpx1_1.3.0-3_amd64.deb
</pre></div>


<p>合致したら以下でインストール</p>
<div class="highlight"><pre><span></span># dpkg -i libvpx1_1.3.0-3_amd64.deb libpng12-0_1.2.50-2+deb8u2_amd64.deb libssl1.0.0_1.0.1e-2+deb7u21_amd64.deb
</pre></div>


<p>そしてvirtualboxインストール</p>
<div class="highlight"><pre><span></span># apt-get -y install virtualbox-5.0
</pre></div>


<p>成功.</p>
<p>以上.</p>
            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; lapis_zero09 &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure-single">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
    </div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>

</body>
</html>